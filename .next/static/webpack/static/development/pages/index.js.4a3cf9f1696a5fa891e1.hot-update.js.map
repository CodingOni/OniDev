{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.4a3cf9f1696a5fa891e1.hot-update.js","sources":["webpack:///./pages/oniContext.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport emailjs from 'emailjs-com';\r\n\r\nconst ProductContext = React.createContext();\r\n\r\nlet initstate = {\r\n  name: '',\r\n  number: '',\r\n  message: '',\r\n  email: '',\r\n  messageSent: false,\r\n  errors: {},\r\n  addONS: {\r\n    name: 'price',\r\n  },\r\n  total: 0,\r\n};\r\n\r\n class ProductProvider extends Component {\r\n   state = {\r\n     name: '',\r\n     number: '',\r\n     message: '',\r\n     email: '',\r\n       messageSent: false,\r\n       errors: {\r\n         \r\n     },\r\n     addONS: {\r\n       'name': 'price',\r\n       },\r\n     total: 0\r\n   };\r\n\r\n     sendEmail = (e) => {\r\n         alert('E Sent');\r\n       \r\n     \r\n\r\n         this.handleErrors()\r\n         console.log(this.state);\r\n         emailjs\r\n           .send(\r\n             'OniDev',\r\n             'onidev',\r\n             {\r\n               senderEmail: this.state.email,\r\n               senderName: this.state.name,\r\n               senderMessage: this.state.message,\r\n               senderPhoneNumber: this.state.number,\r\n               receiverEmail: 'tyriquedaniel14@gmail.com',\r\n               number: 0,\r\n               total: '10000',\r\n               addOns: 'Everything'\r\n             },\r\n             'user_ra9kLqa47SSFhb4QI3Swp'\r\n           )\r\n           .then(\r\n             (result) => {\r\n               console.log(result.text);\r\n               this.setState({ messageSent: true });\r\n               setTimeout(() => {\r\n                \r\n                 this.setState((prev) => ({ ...prev, ...initstate }));\r\n                 console.log(this.state)\r\n               }, 3000);\r\n             },\r\n             (error) => {\r\n               console.log(error.text);\r\n               alert(error.text)\r\n             }\r\n           );\r\n \r\n     }\r\n     setField = (targetID, textValue) => {\r\n      \r\n     console.log('Run');\r\n     this.setState(() => {\r\n       return {\r\n         [targetID]: textValue,\r\n       };\r\n     });\r\n     setTimeout(() => {\r\n       console.log(this.state);\r\n     }, 300);\r\n   };\r\n\r\n     handleErrors = (e) => {\r\n         \r\n\r\n       const error = {};\r\n          if (!this.state.name) {\r\n              error.name = 'First Name field shouldn’t be empty';\r\n              this.setState({name: 'First Name field shouldn’t be empty'})\r\n          } else {\r\n            \r\n          }\r\n          if (!this.state.email) {\r\n              error.email = 'Email field shouldn’t be empty';\r\n              this.setField('email', error.name);\r\n          }\r\n          if (!this.state.message) {\r\n              error.message = 'Message field shouldn’t be empty';\r\n              this.setField('message', error.name);\r\n          }\r\n\r\n          if (this.state.error) {\r\n            setErrors(this.state.error);\r\n          } else {\r\n            console.log(\"PASS\")\r\n         }\r\n         if (!error) {\r\n            console.log('PASS');\r\n         } else {\r\n             return\r\n         }\r\n     };\r\n\r\n   render() {\r\n     return (\r\n       <ProductContext.Provider\r\n         value={{\r\n           ...this.state,\r\n           setValue: this.setField,\r\n           handleSubmit: this.sendEmail\r\n         }}\r\n       >\r\n         {this.props.children}\r\n       </ProductContext.Provider>\r\n     );\r\n   }\r\n }\r\n\r\nconst ProductConsumer = ProductContext.Consumer;\r\n\r\nexport { ProductProvider, ProductConsumer, ProductContext };\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAVA;AACA;AAYA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AADA;AAGA;AAZA;AACA;AAcA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAcA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;AACA;AAEA;AAEA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;;;;AAhHA;AACA;AAkHA;;;;;A","sourceRoot":""}