{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.6007e24db5e9bb883717.hot-update.js","sources":["webpack:///./pages/oniContext.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport emailjs from 'emailjs-com';\r\nimport { SelectPackage } from '../components/selectPackage';\r\n//Function Order From earliest to latest\r\nimport {\r\n  webAppPackages,\r\n  mobileAppPackages,\r\n  softwareDeveleopmentPackages,\r\n  seoMarketingPackages,\r\n  webAddOns,\r\n  appAddOns,\r\n  dataAddOns,\r\n  scriptingAddOns,\r\n  marketingAddOns,\r\n} from '../data/business-services/index';\r\nconst ProductContext = React.createContext();\r\nconst ratePerHour = 25;\r\nlet initstate = {\r\n  name: '',\r\n  number: '',\r\n  message: '',\r\n  email: '',\r\n  messageSent: false,\r\n  errors: {},\r\n  addOns: [],\r\n  moreInfoNeeded: true,\r\n  isModalOpen: false,\r\n  activePackage: [],\r\n  activeAddOns: [],\r\n  activeNumAddOns: [],\r\n  finalPackage: {},\r\n  finalAddOns: [],\r\n  progress: 0,\r\n  total: 0,\r\n  hours: 0,\r\n  packageTotal: 0,\r\n  addOnTotal: 0,\r\n};\r\n\r\nexport default class ProductProvider extends Component {\r\n  state = {\r\n    name: '',\r\n    number: '',\r\n    message: '',\r\n    email: '',\r\n    messageSent: false,\r\n    errors: {},\r\n    addOns: [],\r\n    moreInfoNeeded: true,\r\n    isModalOpen: false,\r\n    activeAddOns: [],\r\n    activeNumAddOns: [],\r\n    activePackage: [],\r\n    finalPackage: {},\r\n    finalAddOns: [],\r\n    progress: 0,\r\n    hours: 0,\r\n    packageTotal: 0,\r\n    addOnTotal: 0,\r\n    total: 0,\r\n  };\r\n\r\n \r\n\r\n  setThemeColor = (color) => {\r\n    switch (color) {\r\n      case 'blue':\r\n        document.body.style.setProperty(\r\n          '--primary',\r\n          'linear-gradient(to right, #33ccff 0%, #3366ff 100%)'\r\n        );\r\n        document.body.style.setProperty('--primary1', '#3366ff');\r\n        document.body.style.setProperty('--primary2', '#33ccff');\r\n        document.body.style.setProperty(\r\n          '--primary3',\r\n          'rgba(52, 106, 255, 0.1)'\r\n        );\r\n        document.body.style.setProperty(\r\n          '--bannerimg',\r\n          'url(/assets/images/banner/bg1.png)'\r\n        );\r\n        break;\r\n      case 'green':\r\n        document.body.style.setProperty(\r\n          '--primary',\r\n          'linear-gradient(to right, #184e68 0%, #57ca85 100%)'\r\n        );\r\n        document.body.style.setProperty('--primary1', '#57ca85');\r\n        document.body.style.setProperty('--primary2', '#184e68');\r\n        document.body.style.setProperty('--primary3', 'rgba(24, 78, 104, 0.1)');\r\n        document.body.style.setProperty(\r\n          '--bannerimg',\r\n          'url(/assets/images/banner/bg4.png)'\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  //7/20/20\r\n  addOnIncriment = (addOn) => {\r\n    if (!this.state.activeNumAddOns.includes(addOn)) {\r\n      this.state.activeNumAddOns.push(addOn);\r\n      setTimeout(() => {\r\n        console.clear()\r\n        console.warn(this.state.activeNumAddOns,'ActiveAddONs')\r\n      }, 300);\r\n    } else {\r\n      console.log(\"Num Add On Found\")\r\n    }\r\n      console.warn(this.state.activeNumAddOns);\r\n      addOn.count = addOn.count + 1;\r\n      this.setState({\r\n        addOnTotal: Math.round(\r\n          this.state.addOnTotal + addOn.hours * ratePerHour * Math.PI\r\n        ),\r\n      });\r\n   \r\n        console.log(addOn.count);\r\n\r\n  };\r\n\r\n  clearNumAddOn = (filter) => {\r\n    let filtered = filter.filter(function( obj ) {\r\n    return obj.count !== 0;\r\n    });\r\n    this.setState({activeNumAddOns: filtered})\r\n    console.error(\"Filtered\",filtered)\r\n    \r\n  }\r\n  addOnDecriment = (addOn) => {\r\n            \r\n    if (addOn.count > 0) {\r\n      console.warn(\r\n        `${this.state.hours} - ${addOn.hours} * ${addOn.count}`,\r\n        this.state.hours - addOn.hours * addOn.count\r\n      );\r\n      addOn.count = addOn.count > 0 && addOn.count - 1;\r\n      if (addOn.count === 0) {\r\n          let tempAddOns = this.state.activeNumAddOns.filter(\r\n            (obj) => obj !== addOn\r\n        );\r\n        console.clear();\r\n        this.clearNumAddOn(tempAddOns)\r\n         \r\n         console.error(tempAddOns, 'Temp Add');\r\n      }\r\n      \r\n      console.log(`${this.state.addOnTotal} -\r\n            ${addOn.hours} * ${addOn.count} * ${ratePerHour} * ${Math.PI}`)\r\n      \r\n   \r\n      this.setState({\r\n        addOnTotal: Math.round(\r\n          this.state.addOnTotal - addOn.hours * ratePerHour * Math.PI\r\n        ),\r\n      });\r\n    } else {\r\n      console.log(\"Return\")\r\n    }\r\n    console.log(\r\n       addOn.hours * addOn.count * ratePerHour * Math.PI,\r\n      'Decriment'\r\n    );\r\n  };\r\n\r\n  //99,99 = sum of 3 steps 33.33*3\r\n  progressIncrement = (incrBy) => {\r\n    if (this.state.progress < 99.99) {\r\n      this.setState({ progress: this.state.progress + incrBy });\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  setTotal = () => {\r\n    this.setState({\r\n      total:\r\n        this.state.addOnTotal +\r\n        this.state.packageTotal +\r\n        this.state.hours * ratePerHour * Math.PI,\r\n    });\r\n\r\n    console.log(this.state);\r\n  };\r\n\r\n  selectAddOn = (addOn) => {\r\n    if (this.state.addOns.includes(addOn.title)) {\r\n      console.clear();\r\n      let tempAddOns = this.state.addOns.filter((obj) => obj !== addOn.title);\r\n      console.warn(tempAddOns);\r\n      if (this.state.addOnTotal > 0) {\r\n        this.setState({ addOns: tempAddOns });\r\n        this.setState({ hours: this.state.hours - addOn.hours });\r\n        console.log(' Found', this.state.hours + addOn.hours);\r\n        setTimeout(() => {\r\n          console.log(this.state.hours - addOn.hours * ratePerHour * Math.PI);\r\n          this.setState({\r\n            addOnTotal: Math.round(\r\n              this.state.addOnTotal - addOn.hours * ratePerHour * Math.PI\r\n            ),\r\n          });\r\n        }, 300);\r\n\r\n        setTimeout(() => {\r\n          this.setTotal();\r\n        }, 300);\r\n      }\r\n    } else {\r\n      this.state.addOns.push(addOn.title);\r\n      this.setState({ hours: this.state.hours + addOn.hours });\r\n      console.log('Not Found', this.state.hours + addOn.hours);\r\n      setTimeout(() => {\r\n        this.setState({\r\n          addOnTotal: Math.round(\r\n            this.state.addOnTotal + addOn.hours * ratePerHour * Math.PI\r\n          ),\r\n        });\r\n      }, 300);\r\n      setTimeout(() => {\r\n        this.setTotal();\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  progressDecrement = (decrBy) => {\r\n    if (this.state.progress > 0) {\r\n      this.setState({ progress: this.state.progress - decrBy });\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  hasNumber(myString) {\r\n    return /\\d/.test(myString);\r\n  }\r\n\r\n  handleFinalPackage = (servicePackage) => {\r\n    let total = 0;\r\n    let slicedNum = 0;\r\n    if (this.state.finalPackage.length === 0) {\r\n      this.setState({ packageTotal: servicePackage.price });\r\n    } else {\r\n      this.setState({ packageTotal: this.state.total + servicePackage.price });\r\n    }\r\n    this.setState({ finalPackage: servicePackage });\r\n\r\n    this.progressIncrement(33.33);\r\n    {\r\n      servicePackage.addOns.map((addOn, index) => {\r\n        if (this.state.addOns.includes(addOn)) {\r\n          return;\r\n        } else {\r\n          // if (this.hasNumber(addOn)) {\r\n          //   slicedNum = 5\r\n          //   addOn.count = slicedNum\r\n          // }\r\n\r\n          this.state.addOns.push(addOn);\r\n          console.clear()\r\n          setTimeout(() => {\r\n          console.warn(this.state.addOns);\r\n\r\n          }, 300);\r\n        }\r\n      });\r\n    }\r\n    setTimeout(() => {\r\n      console.warn(this.state.packageTotal);\r\n    }, 300);\r\n  };\r\n\r\n  handleActiveAddOns = (packageName) => {\r\n    switch (packageName) {\r\n      case 'webPackages':\r\n        this.setState({ activeAddOns: webAddOns });\r\n\r\n        break;\r\n      case 'mobileAppPackages':\r\n        this.setState({ activeAddOns: appAddOns });\r\n        break;\r\n      case 'scriptingPackages':\r\n        this.setState({ activeAddOns: scriptingAddOns });\r\n\r\n        break;\r\n      case 'marketingPackages':\r\n        this.setState({ activeAddOns: marketingAddOns });\r\n        break;\r\n      case 'dataPackages':\r\n        this.setState({ activeAddOns: dataAddOns });\r\n        break;\r\n      default:\r\n        console.error('No packages Found');\r\n    }\r\n   \r\n  };\r\n\r\n  handleActivePackage = (packageName) => {\r\n    switch (packageName) {\r\n      case 'webPackages':\r\n        this.setState({ activePackage: webAppPackages });\r\n\r\n        break;\r\n      case 'mobileAppPackages':\r\n        this.setState({ activePackage: mobileAppPackages });\r\n        break;\r\n      case 'softwareDevelopmentPackages':\r\n        this.setState({ activePackage: softwareDeveleopmentPackages });\r\n\r\n        break;\r\n      case 'seoMarketingPackages':\r\n        this.setState({ activePackage: seoMarketingPackages });\r\n        break;\r\n      default:\r\n      // code block\r\n    }\r\n    setTimeout(() => {\r\n      console.log(this.state.activePackage);\r\n    }, 300);\r\n  };\r\n  handleModal = (e) => {\r\n    this.setState({ isModalOpen: !this.state.isModalOpen });\r\n  };\r\n\r\n  sendEmail = (e) => {\r\n    alert(\"Email Sent\")\r\n    console.clear()\r\n    this.handleErrors();\r\n    setTimeout(() => {\r\n      if (!this.state.errors) {\r\n        console.log(this.state);\r\n        emailjs\r\n          .send(\r\n            'OniDev',\r\n            'onidev',\r\n            {\r\n              senderEmail: this.state.email,\r\n              senderName: this.state.name,\r\n              senderMessage: this.state.message,\r\n              senderPhoneNumber: this.state.number,\r\n              receiverEmail: 'oni.contact.mail@gmail.com',\r\n              number: 0,\r\n              total: this.state.total,\r\n              addOns: this.state.addOns.map((addOn, index) => {\r\n                return addOn;\r\n              }),\r\n              numAddOns: this.state.activeNumAddOns ? 'No Add Ons':this.state.activeNumAddOns.map(\r\n                (addOn, index) => {\r\n                  return `(${addOn.count}) ${addOn.title}`;\r\n                }\r\n              ),\r\n            },\r\n            'user_ra9kLqa47SSFhb4QI3Swp'\r\n          )\r\n          .then(\r\n            (result) => {\r\n              console.log(result.text);\r\n              this.setState({ messageSent: true });\r\n              setTimeout(() => {\r\n                this.setState((prev) => ({ ...prev, ...initstate }));\r\n                console.log(this.state);\r\n              }, 3000);\r\n            },\r\n            (error) => {\r\n              console.log(error.text, 'Error Text');\r\n            }\r\n          );\r\n      } else {\r\n        console.error('*Submit Error*', this.state.errors);\r\n      }\r\n    }, 300);\r\n    \r\n  };\r\n  //Set FieldS State\r\n  setField = (targetID, textValue) => {\r\n    console.log('Run');\r\n    this.setState(() => {\r\n      return {\r\n        [targetID]: textValue,\r\n      };\r\n    });\r\n    setTimeout(() => {\r\n      console.log(this.state);\r\n    }, 300);\r\n  };\r\n\r\n  handleErrors = (e) => {\r\n    const error = {};\r\n    if (!this.state.name) {\r\n      error.name = 'First Name field shouldn’t be empty';\r\n      this.setState({ name: 'First Name field shouldn’t be empty' });\r\n    }\r\n    if (!this.state.number) {\r\n      error.number = 'Number field shouldn’t be empty';\r\n      this.setState({ number: 'Number field shouldn’t be empty' });\r\n    }\r\n    if (!this.state.email) {\r\n      error.email = 'Email field shouldn’t be empty';\r\n      this.setState({ email: 'Email field shouldn’t be empty' });\r\n    }\r\n    if (!this.state.message) {\r\n      error.message = 'Message field shouldn’t be empty';\r\n      this.setState({ message: 'Message field shouldn’t be empty' });\r\n    }\r\n    console.warn(error,Object.keys(error).length,\"Set Errors Block\")\r\n    \r\n    if (Object.keys(error).length === 0) {\r\n      alert('No Errors')\r\n      this.setState({\r\n        errors: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        errors: error,\r\n      });\r\n     \r\n    }\r\n\r\n          console.warn(this.state.errors, 'Errors');\r\n\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ProductContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          setValue: this.setField,\r\n          handleSubmit: this.sendEmail,\r\n          handleModal: this.handleModal,\r\n          handleActPackage: this.handleActivePackage,\r\n          handleActAddOns: this.handleActiveAddOns,\r\n          handleFinalPackage: this.handleFinalPackage,\r\n          setBackground: this.setThemeColor,\r\n          selectAddOn: this.selectAddOn,\r\n          incrProgress: this.progressIncrement,\r\n          decrProgress: this.progressDecrement,\r\n          setTotal: this.setTotal,\r\n          addOnIncriment: this.addOnIncriment,\r\n          addOnDecriment: this.addOnDecriment,\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </ProductContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst ProductConsumer = ProductContext.Consumer;\r\n\r\nexport { ProductProvider, ProductConsumer, ProductContext };\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AACA;AAqBA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AACA;AAuBA;AACA;AACA;AACA;AAIA;AACA;AACA;AAIA;AAIA;AACA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAIA;AACA;AAAA;AACA;AA/BA;AAiCA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AACA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AAIA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AADA;AAKA;AACA;AACA;AACA;AAAA;AAIA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AADA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAnBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAhBA;AACA;AAiBA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAdA;AAqBA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AADA;AAIA;AACA;AACA;AAEA;AACA;;;;;;AA5LA;AACA;AACA;;;AA2LA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA;;;;AAvZA;AACA;AADA;AA0ZA;;;;;A","sourceRoot":""}