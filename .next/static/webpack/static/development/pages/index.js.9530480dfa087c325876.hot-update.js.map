{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.9530480dfa087c325876.hot-update.js","sources":["webpack:///./pages/oniContext.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport emailjs from 'emailjs-com';\r\nimport {\r\n  webAppPackages,\r\n  mobileAppPackages,\r\n} from '../data/business-services/index';\r\nconst ProductContext = React.createContext();\r\n\r\nlet initstate = {\r\n  name: '',\r\n  number: '',\r\n  message: '',\r\n  email: '',\r\n  messageSent: false,\r\n  errors: {},\r\n  addONS: {\r\n    name: 'price',\r\n  },\r\n  total: 0,\r\n  moreInfoNeeded: true,\r\n  isModalOpen: false,\r\n  activePackage: []\r\n};\r\n\r\nclass ProductProvider extends Component {\r\n  state = {\r\n    name: '',\r\n    number: '',\r\n    message: '',\r\n    email: '',\r\n    messageSent: false,\r\n    errors: {},\r\n    addONS: {\r\n      name: 'price',\r\n    },\r\n    total: 0,\r\n    moreInfoNeeded: true,\r\n    isModalOpen: false,\r\n  };\r\n\r\n  handleActivePackage = (packageName) => {\r\n     switch (packageName) {\r\n       case 'webPackages':\r\n         this.setState({'activePackage': webAppPackages})\r\n        \r\n         break;\r\n       case 'mobileAppPackages':\r\n         setpackageShowing(mobileAppPackages);\r\n         break;\r\n       case 'softwareDevelopmentPackages':\r\n         setpackageShowing(softwareDevelopmentPackages);\r\n         break;\r\n       case 'seoMarketingPackages':\r\n         setpackageShowing(seoMarketingPackages);\r\n         break;\r\n       default:\r\n       // code block\r\n     }\r\n  }\r\n  handleModal = (e) => {\r\n    this.setState({'isModalOpen': !this.state.isModalOpen})\r\n  }\r\n  \r\n  sendEmail = (e) => {\r\n    alert('E Sent');\r\n\r\n    this.handleErrors();\r\n    if (!this.state.errors) {\r\n      console.log(this.state);\r\n      emailjs\r\n        .send(\r\n          'OniDev',\r\n          'onidev',\r\n          {\r\n            senderEmail: this.state.email,\r\n            senderName: this.state.name,\r\n            senderMessage: this.state.message,\r\n            senderPhoneNumber: this.state.number,\r\n            receiverEmail: 'tyriquedaniel14@gmail.com',\r\n            number: 0,\r\n            total: '10000',\r\n            addOns: 'Everything',\r\n          },\r\n          'user_ra9kLqa47SSFhb4QI3Swp'\r\n        )\r\n        .then(\r\n          (result) => {\r\n            console.log(result.text);\r\n            this.setState({ messageSent: true });\r\n            setTimeout(() => {\r\n              this.setState((prev) => ({ ...prev, ...initstate }));\r\n              console.log(this.state);\r\n            }, 3000);\r\n          },\r\n          (error) => {\r\n            console.log(error.text);\r\n            alert(error.text);\r\n          }\r\n        );\r\n    }else{\r\n      console.log(\"Error\")\r\n    }\r\n  };\r\n  //Set FieldS State\r\n  setField = (targetID, textValue) => {\r\n    console.log('Run');\r\n    this.setState(() => {\r\n      return {\r\n        [targetID]: textValue,\r\n      };\r\n    });\r\n    setTimeout(() => {\r\n      console.log(this.state);\r\n    }, 300);\r\n  };\r\n\r\n  handleErrors = (e) => {\r\n    const error = {};\r\n    if (!this.state.name) {\r\n      error.name = 'First Name field shouldn’t be empty';\r\n      this.setState({ name: 'First Name field shouldn’t be empty' });\r\n    }\r\n    if (!this.state.number) {\r\n      error.number = 'Number field shouldn’t be empty';\r\n      this.setState({ number: 'Number field shouldn’t be empty' });\r\n    }\r\n    if (!this.state.email) {\r\n      error.email = 'Email field shouldn’t be empty';\r\n      this.setState({ email: 'Email field shouldn’t be empty' });\r\n    }\r\n    if (!this.state.message) {\r\n      error.message = 'Message field shouldn’t be empty';\r\n      this.setState({ message: 'Message field shouldn’t be empty' });\r\n    }\r\n    if (Object.keys(error).length === 0) {\r\n      alert('PASS');\r\n      this.setState({\r\n        errors: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        errors: error,\r\n      });\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ProductContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          setValue: this.setField,\r\n          handleSubmit: this.sendEmail,\r\n          handleModal: this.handleModal,\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </ProductContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst ProductConsumer = ProductContext.Consumer;\r\n\r\nexport { ProductProvider, ProductConsumer, ProductContext };\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAbA;AACA;AAeA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAZA;AACA;AAcA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAfA;AAiBA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAcA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;;;;;;AACA;AACA;AAEA;AAEA;AACA;AACA;AAJA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;AAxIA;AACA;AA0IA;;;;;A","sourceRoot":""}